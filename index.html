<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Priyanshu Display Shop</title>
<style>
body{font-family:Arial;margin:0;background:#f5f5f5}
header{background:#111;color:#fff;text-align:center;padding:15px}
input{width:80%;padding:10px;margin:15px auto;display:block}
.company{background:#fff;margin:20px;padding:15px;border-radius:8px}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid #ddd;text-align:center}
th{background:#222;color:#fff}
</style>
</head>
<body>

<header>
<h1>Priyanshu Display Shop</h1>
<p>Mobile Display Price List</p>
</header>

<input type="text" id="search" placeholder="Search model..." onkeyup="searchModel()">

<div id="data"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBUals9JsemB1NZk9byCaQyx-IESPTCnuU",
  authDomain: "baba-folder.firebaseapp.com",
  projectId: "baba-folder",
  storageBucket: "baba-folder.firebasestorage.app",
  messagingSenderId: "641161753750",
  appId: "1:641161753750:web:749918781fb5f688fffeb7"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function loadData() {
  const querySnapshot = await getDocs(collection(db, "prices"));
  let html = "";

  querySnapshot.forEach((doc) => {
    const d = doc.data();
    html += `
      <div class="company">
        <h2>${d.company}</h2>
        <table>
          <tr><th>Model</th><th>Price (â‚¹)</th></tr>
          ${d.models.map(m => `<tr><td>${m.name}</td><td>${m.price}</td></tr>`).join("")}
        </table>
      </div>
    `;
  });

  document.getElementById("data").innerHTML = html;
}

loadData();

window.searchModel = function(){
let input=document.getElementById("search").value.toUpperCase();
let rows=document.querySelectorAll("tr");
rows.forEach(r=>{
let td=r.getElementsByTagName("td")[0];
if(td){
r.style.display=td.innerText.toUpperCase().includes(input)?"":"none";
}
});
}

</script>
</body>
</html>
